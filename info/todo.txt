- парсить ретейл
- концепция поиска:
  - Требования:
    - при поиске через /xlsx должны выдасться актуальные данные
    - в бд всегда должны быть данные
    - в бд актуализировать данные каждый интервал (допустим, час)
    - данные для /xlsx и юзерских страниц не должны пересекаться
  - актуализация:
    - создать таблицу fetch_ids (id: int)
    - при начале парсинга:
      - создать новую запись с id = max(id) + 1
      - парсить, сохранять с указанным fetch_id
      - после парсинга удалить все данные с *.fetch_id < fetch_id
    - для выгрузки:
      - можно костыльнуть и использовать fetch_id = sys.maxint
      - после формирования xlsx удалить это


ресторан:
  - id
  - название
  - рейтинг
  - адрес
блюдо:
  - id
  - название
  - картинка
  - стоимость
  - вес
  - ккал

алгоритм парсинга:
- по каждому ресторану:
  - зайти на страницу ресторана
  - распарсить данные ресторана
  - распарсить блюда по http
  - выйти

- научиться отличать /retail от /r
если retail:
  - другой парсинг данных магазина
  - другое формирование ссылки на меню
парсинг retail:

инфа о магазине
GET https://eda.yandex.ru/api/v2/catalog/vkusvill_marosejka_2_15s1_rmxdp?longitude=37.621408&latitude=55.75474&shippingType=delivery

POST https://eda.yandex.ru/api/v2/menu/goods
{"slug":"vkusvill_marosejka_2_15s1_rmxdp","maxDepth":1}
получаем катигории с привязанными данными. мне нужно сохранять всё без привязок к категории.
payload.categories[].items[]{id, name, description, price, picture.url, weight}

id категорий, по которым делать запросы:

- закрывать "много заказов"
  - подождать полной загрузки страницы
  - если есть элемент модалки, закрыть
- остальные поля магазина/ресторана
  - ресторан:
    контейнер: div.RestaurantHeader_actions
    3 кнопки: https://eda.yandex.ru/r/shaurma_xdrmv?placeSlug=shaurma_yxosg
    2 кнопки: https://eda.yandex.ru/r/falafel_bro?placeSlug=FalafelBro
    1 кнопка: https://eda.yandex.ru/r/bistro_stolovaya_1?placeSlug=bistro_stolovaya_1_fdvnp

    - Название: h1.RestaurantHeader_name
    - если 2 button.RestaurantHeader_richBadge:
      - 1ый: время доставки. дочерние:
        - время доставки: div.RestaurantHeader_badgeTopLine
      - 2ой: рейтинг. дочерние:
        - рейтинг: div.RestaurantHeader_badgeTopLine
        - количество оценок: div.RestaurantHeader_badgeBottomLine
    - Адрес:
      - клик на button.RestaurantHeader_badge
      - Адрес: span.RestaurantPopup_infoAddr
